import{r as a,s,b as l,a as e,w as t,k as u,c,u as n,F as o,i as r,o as d,p as i,g as f,t as A,d as m,e as p,n as _,h as g,J as v}from"./index-6BJnilM4.js";import{_ as y}from"./uni-icons.CcTjCTsw.js";import{a as b,r as h}from"./uni-app.es.O-brfmiM.js";import{t as k,u as C}from"./index.il9Q8Uak.js";import{_ as I}from"./plugin-vueexport-helper.BCo6x5W8.js";const O=I({__name:"songSheet",setup(I){const O=a([]),j=a(!1),w=a(""),E=a([]);b((a=>{w.value=a.id;(async()=>{const a=await k(w.value);O.value=a.data.playlist})(),(async a=>{const s=await C(w.value);E.value=s.data.comments})()}));return(a,b)=>{const k=r,C=g,I=h(s("uni-icons"),y),w=v;return d(),l(o,null,[e(k,{class:u(["song",{hide:j.value}])},{default:t((()=>[e(k,{class:"songtop"},{default:t((()=>[e(k,{class:"bg",style:i({backgroundImage:`url(${O.value.coverImgUrl})`})},{default:t((()=>[e(k,{class:"after"})])),_:1},8,["style"]),e(k,{class:"info"},{default:t((()=>[e(C,{src:O.value.coverImgUrl},null,8,["src"]),e(k,{class:"header-right"},{default:t((()=>[e(k,{class:"title"},{default:t((()=>[f(A(O.value.name),1)])),_:1}),e(k,{class:"creator"},{default:t((()=>[e(C,{src:"https://p1.music.126.net/kMuXXbwHbduHpLYDmHXrlA==/109951168152833223.jpg"}),e(k,{class:"nickname"},{default:t((()=>[f(" 网易云音乐 ")])),_:1})])),_:1})])),_:1})])),_:1}),e(k,{class:"desc"},{default:t((()=>[f(A(O.value.description),1)])),_:1}),e(k,{class:"songout"},{default:t((()=>[e(k,null,{default:t((()=>[e(I,{type:"redo",size:"30"}),f(A(O.value.shareCount),1)])),_:1}),e(k,{onClick:b[0]||(b[0]=a=>j.value="true")},{default:t((()=>[e(I,{type:"chat",size:"30"}),f(A(O.value.commentCount),1)])),_:1}),e(k,null,{default:t((()=>[e(I,{type:"folder-add",size:"30"}),f(A(O.value.subscribedCount),1)])),_:1})])),_:1})])),_:1}),e(k,{class:"songlist"},{default:t((()=>[e(k,{class:"toview"},{default:t((()=>{var a;return[e(k,{class:"bfbg"},{default:t((()=>[f("▶")])),_:1}),f("播放全部("+A(null==(a=O.value.tracks)?void 0:a.length)+")",1)]})),_:1}),e(k,{class:"ul"},{default:t((()=>[(d(!0),l(o,null,m(O.value.tracks,((s,u)=>(d(),c(k,{class:"li",onClick:a=>{return l=s,console.log(l),void _({url:"/pages/player/player",events:{acceptDataFromOpenedPage:function(a){console.log(a)},someEvent:function(a){console.log(a)}},success:function(a){a.eventChannel.emit("acceptDataFromOpenerPage",{data:l})}});var l}},{default:t((()=>[e(k,{class:"index"},{default:t((()=>[f(A(u+1),1)])),_:2},1024),e(k,{class:"con"},{default:t((()=>[e(k,{class:"con-top"},{default:t((()=>[f(A(s.name),1)])),_:2},1024),e(k,{class:"singer"},{default:t((()=>[(d(!0),l(o,null,m(s.ar,((a,s)=>(d(),c(k,null,{default:t((()=>[f(A(a.name),1)])),_:2},1024)))),256)),a.info!==s.ar.length-1?(d(),c(k,{key:0},{default:t((()=>[f("/")])),_:1})):n("",!0),e(C,{class:"toimg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAI9JREFUOE9jZKAQMOLTv3//fhOQvKOj4xlc6nAasH//fgUGBob7UI2Kjo6OD7AZgtOAw4cPC/758+cdAwPDExYWFj1bW9v3JBlAbNDgDQNiDMFrwKFDhyRBhtjZ2T0nORBBmv/+/fsMpJGZmVkKlyE4XUCxASCbKfICMQEIUkO7WKA4IVGclEH+oygzERuIAAB+PBHotqiOAAAAAElFTkSuQmCC"})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})])),_:1},8,["class"]),j.value?(d(),c(k,{key:0,class:"overlay"},{default:t((()=>[e(k,{class:"mc",onClick:b[1]||(b[1]=a=>j.value=!1)}),e(w,{class:"popup","scroll-y":"true"},{default:t((()=>[e(k,{class:"newComment"},{default:t((()=>[p("b",{style:{color:"red",padding:"0 10rpx"}},"|"),f("最新评论 ")])),_:1}),(d(!0),l(o,null,m(E.value,(a=>(d(),c(k,{class:"userList"},{default:t((()=>[e(k,{class:"img"},{default:t((()=>[p("img",{src:a.user.avatarUrl,alt:""},null,8,["src"])])),_:2},1024),e(k,{class:"userInfor"},{default:t((()=>[e(k,null,{default:t((()=>[f(A(a.user.nickname),1)])),_:2},1024),e(k,{class:"commenting"},{default:t((()=>[f(A(a.content),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})):n("",!0)],64)}}},[["__scopeId","data-v-133b0c39"]]);export{O as default};
